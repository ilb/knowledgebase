-- Adminer 4.7.7 MySQL dump

SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

SET NAMES utf8mb4;

DROP DATABASE IF EXISTS `knowledgebase`;
CREATE DATABASE `knowledgebase` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE `knowledgebase`;

DROP TABLE IF EXISTS `keyword`;
CREATE TABLE `keyword` (
  `id_keyword` int(7) NOT NULL AUTO_INCREMENT,
  `name_keyword` varchar(50) NOT NULL,
  PRIMARY KEY (`id_keyword`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `keyword` (`id_keyword`, `name_keyword`) VALUES
(1,	'arhitektura_prilozenij'),
(2,	'princip__arhitektur_'),
(3,	'razdelenie_funkcij'),
(4,	'gruppirovanie_servisov'),
(5,	'povtornoe_ispol_zovanie_servisov'),
(6,	'tip__zavisimostej'),
(7,	'tip__vzaimodejstvij'),
(8,	'sloi_arhitektur_'),
(9,	'sloj_biznes-processov'),
(10,	'sloj_slabosvjzann_h_servisov'),
(11,	'princip__proektirovanij'),
(12,	'Code_review'),
(13,	'Definition'),
(14,	'Types_of_Code_Review'),
(15,	'Checklist'),
(16,	'kodirovanie'),
(17,	'kacestvo_koda'),
(18,	'dokumentirovanie'),
(19,	'izobretenie_koles'),
(20,	'testirovanie'),
(21,	'obucenie'),
(22,	'zaklycenie'),
(23,	'predmetno-orientirovannoe_proektirovanie'),
(24,	'opredelenie'),
(25,	'celi'),
(26,	'stoimost_'),
(27,	'princip__razrabotki'),
(28,	'cistaj_logika'),
(29,	'otnosenij'),
(30,	'otnosenie__jvljetsj___is_'),
(31,	'otnosenie__soderzit___has_'),
(32,	'otnosenie__ispol_zuet___uses_'),
(33,	'sloi_prilozenij'),
(34,	'sloj_predmetnoj_oblasti'),
(35,	'sloj_sluzb'),
(36,	'vnedrenie_zavisimostej'),
(37,	'rassirjemost_'),
(38,	'podklycaem_e_realizacii'),
(39,	'mezmodul_naj_svjz_'),
(40,	'testiruem_j_kod'),
(41,	'sablon_'),
(42,	'instrument__proektrovanij'),
(43,	'ICONIX'),
(44,	'opisite_funkcional_n_e_trebovanij_v_ssego_porjdka'),
(45,	'modelirovanie_predmetnoj_oblasti'),
(46,	'ispol_zujte_predmetnuy_oblast__kak_glossarij_proek'),
(47,	'modelirovanie_precedentov'),
(48,	'process_razrabotki_ICONIX'),
(49,	'vopros__interv_y'),
(50,	'baza_znanij'),
(51,	'biznes-sloj1'),
(52,	'kratkoe_opisanie_proekta'),
(53,	'doroznaj_karta'),
(54,	'zadaci_pol_zovatelj'),
(55,	'material_'),
(56,	'variant__ispol_zovanij'),
(57,	'biznes-pravila'),
(58,	'shem__b'),
(59,	'kriterii_priemki'),
(60,	'scenarij_prodaz'),
(61,	'tehniceskij_sloj1'),
(62,	'upravlenie_produktami'),
(63,	's_cego_nacinaetsj_produkt'),
(64,	'strategij_produkta'),
(65,	'analiz_dann_h'),
(66,	'prioritizacij_zadac'),
(67,	'zadaci_pol_zovatelej'),
(68,	'Job_To_Be_Done'),
(69,	'interv_y_pol_zovatelej'),
(70,	'cto_v__hotite_sdelat__'),
(71,	'kak_v__v_nastojsee_vremj_delaete_eto_'),
(72,	'kak_mozno_ulucsit__to__cto_v__delaete_'),
(73,	'proektirovanie_susnostej'),
(74,	'sostav_susnostej'),
(75,	'sostojnie_susnosti'),
(76,	'povedenie_susnostej'),
(77,	'otnosenij'),
(78,	'igra__susnosti_i_povedenie_'),
(79,	'modelirovanie'),
(80,	'metod__analiza_dann_h'),
(81,	'metriki'),
(82,	'harakteristiki_metriki'),
(83,	'relevantnost_'),
(84,	'izmerimost_'),
(85,	'dejstvennost_'),
(86,	'nadeznost_'),
(87,	'udobocitaemost_'),
(88,	'voronka_prodaz'),
(89,	'produktovaj_komanda'),
(90,	'formirovanie_komand'),
(91,	'avtonomnost__komand_'),
(92,	'menedzer_produkta'),
(93,	'dolznostn_e_objzannosti_menedzera_produkta'),
(94,	'menedzer_produkta_1__stazer_'),
(95,	'menedzer_produkta_1__nacinaysij_'),
(96,	'menedzer_produkta_2__vedusij_'),
(97,	'menedzer_produkta_3__lider_'),
(98,	'menedzer_produkta_3__'),
(99,	'ocenka_rezul_tatov_rabot_'),
(100,	'prinjtie_resenij'),
(101,	'analiz_dann_h'),
(102,	'kommunikacij'),
(103,	'obucenie_i_motivacij'),
(104,	'dolzen_li_menedzer_produkta_umet__programmirovat__'),
(105,	'dolzen_li_menedzer_produkta_ponimat__psihologiy__m'),
(106,	'i'),
(107,	'dolznostn_e_objzannosti'),
(108,	'inzener_1__stazer_'),
(109,	'inzener_1__nacinaysij_'),
(110,	'inzener_2__vedusij_'),
(111,	'inzener_2__vedusij+_'),
(112,	'inzener_3__lider_'),
(113,	'inzener_3__'),
(114,	'inzener_3__1'),
(115,	'arhitektor'),
(116,	'ocenka_rezul_tatov_rabot_1'),
(117,	'analitik_dann_h'),
(118,	'QA-inzener'),
(119,	'dolznostn_e_objzannosti1'),
(120,	'QA-inzener_1__'),
(121,	'QA-inzener_1__nacinaysij_'),
(122,	'QA-inzener_1__vedusij_'),
(123,	'QA-inzener1'),
(124,	'QA-inzener_3__lider_'),
(125,	'QA-inzener_3__'),
(126,	'ocenka_rezul_tatov_rabot_11'),
(127,	'stakeholders'),
(128,	'inzener-programmist'),
(129,	'menedzer_produkta'),
(130,	'Test_driven_design'),
(131,	'Definition'),
(132,	'Problems'),
(133,	'Nightmare_to_maintain__slow_to_develop'),
(134,	'Failing_to_meet_actual_need'),
(135,	'Solution'),
(136,	'Build_thing_right:_TDD'),
(137,	'TDD'),
(138,	'TEST_FIRST'),
(139,	'Build_right_t'),
(140,	'Close_collaboration'),
(141,	'Shared_language'),
(142,	'diagramm__precedentov'),
(143,	'element__diagramm_'),
(144,	'dejstvuysee_lico'),
(145,	'precedent'),
(146,	'svjz_'),
(147,	'newKeyword');

DROP TABLE IF EXISTS `material`;
CREATE TABLE `material` (
  `id_material` int(7) NOT NULL AUTO_INCREMENT,
  `name_material` varchar(100) NOT NULL,
  `type` enum('document','resource') NOT NULL DEFAULT 'resource',
  PRIMARY KEY (`id_material`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `material` (`id_material`, `name_material`, `type`) VALUES
(1,	'examples/',	'document'),
(2,	'external/',	'document'),
(3,	'interview/',	'document'),
(4,	'presentation/',	'document'),
(5,	'architecture.xhtml',	'document'),
(6,	'codereview_en.xhtml',	'document'),
(7,	'coding.xhtml',	'document'),
(8,	'ddd.xhtml',	'document'),
(9,	'iconix.xhtml',	'document'),
(10,	'iconixdevelopmentprocess.xhtml',	'document'),
(11,	'interview.xhtml',	'document'),
(12,	'knowlegebase.xhtml',	'document'),
(13,	'productmanagement.xhtml',	'document'),
(14,	'productteam.xhtml',	'document'),
(15,	'skills.xhtml',	'document'),
(16,	'tdd.xhtml',	'document'),
(17,	'usecases.xhtml',	'document'),
(18,	'architecture.xhtml#arhitektura_prilozenij',	'resource'),
(19,	'architecture.xhtml#princip__arhitektur_',	'resource'),
(20,	'architecture.xhtml#razdelenie_funkcij',	'resource'),
(21,	'architecture.xhtml#gruppirovanie_servisov',	'resource'),
(22,	'architecture.xhtml#povtornoe_ispol_zovanie_servisov',	'resource'),
(23,	'architecture.xhtml#tip__zavisimostej',	'resource'),
(24,	'architecture.xhtml#tip__vzaimodejstvij',	'resource'),
(25,	'architecture.xhtml#sloi_arhitektur_',	'resource'),
(26,	'architecture.xhtml#sloj_biznes-processov',	'resource'),
(27,	'architecture.xhtml#sloj_slabosvjzann_h_servisov',	'resource'),
(28,	'architecture.xhtml#princip__proektirovanij',	'resource'),
(29,	'codereview_en.xhtml#Code_review',	'resource'),
(30,	'codereview_en.xhtml#Definition',	'resource'),
(31,	'codereview_en.xhtml#Types_of_Code_Review',	'resource'),
(32,	'codereview_en.xhtml#Checklist',	'resource'),
(33,	'coding.xhtml#kodirovanie',	'resource'),
(34,	'coding.xhtml#kacestvo_koda',	'resource'),
(35,	'coding.xhtml#dokumentirovanie',	'resource'),
(36,	'coding.xhtml#izobretenie_koles',	'resource'),
(37,	'coding.xhtml#testirovanie',	'resource'),
(38,	'coding.xhtml#obucenie',	'resource'),
(39,	'coding.xhtml#zaklycenie',	'resource'),
(40,	'ddd.xhtml#predmetno-orientirovannoe_proektirovanie',	'resource'),
(41,	'ddd.xhtml#opredelenie',	'resource'),
(42,	'ddd.xhtml#celi',	'resource'),
(43,	'ddd.xhtml#stoimost_',	'resource'),
(44,	'ddd.xhtml#princip__razrabotki',	'resource'),
(45,	'ddd.xhtml#cistaj_logika',	'resource'),
(46,	'ddd.xhtml#otnosenij',	'resource'),
(47,	'ddd.xhtml#otnosenie__jvljetsj___is_',	'resource'),
(48,	'ddd.xhtml#otnosenie__soderzit___has_',	'resource'),
(49,	'ddd.xhtml#otnosenie__ispol_zuet___uses_',	'resource'),
(50,	'ddd.xhtml#sloi_prilozenij',	'resource'),
(51,	'ddd.xhtml#sloj_predmetnoj_oblasti',	'resource'),
(52,	'ddd.xhtml#sloj_sluzb',	'resource'),
(53,	'ddd.xhtml#vnedrenie_zavisimostej',	'resource'),
(54,	'ddd.xhtml#rassirjemost_',	'resource'),
(55,	'ddd.xhtml#podklycaem_e_realizacii',	'resource'),
(56,	'ddd.xhtml#mezmodul_naj_svjz_',	'resource'),
(57,	'ddd.xhtml#testiruem_j_kod',	'resource'),
(58,	'ddd.xhtml#sablon_',	'resource'),
(59,	'ddd.xhtml#instrument__proektrovanij',	'resource'),
(60,	'iconix.xhtml#ICONIX',	'resource'),
(61,	'iconix.xhtml#opisite_funkcional_n_e_trebovanij_v_ssego_porjdka',	'resource'),
(62,	'iconix.xhtml#modelirovanie_predmetnoj_oblasti',	'resource'),
(63,	'iconix.xhtml#ispol_zujte_predmetnuy_oblast__kak_glossarij_proekta',	'resource'),
(64,	'iconix.xhtml#modelirovanie_precedentov',	'resource'),
(65,	'iconixdevelopmentprocess.xhtml#process_razrabotki_ICONIX',	'resource'),
(66,	'interview.xhtml#vopros__interv_y',	'resource'),
(67,	'knowlegebase.xhtml#baza_znanij',	'resource'),
(68,	'knowlegebase.xhtml#biznes-sloj1',	'resource'),
(69,	'knowlegebase.xhtml#kratkoe_opisanie_proekta',	'resource'),
(70,	'knowlegebase.xhtml#doroznaj_karta',	'resource'),
(71,	'knowlegebase.xhtml#zadaci_pol_zovatelj',	'resource'),
(72,	'knowlegebase.xhtml#material_',	'resource'),
(73,	'knowlegebase.xhtml#variant__ispol_zovanij',	'resource'),
(74,	'knowlegebase.xhtml#biznes-pravila',	'resource'),
(75,	'knowlegebase.xhtml#shem__b',	'resource'),
(76,	'knowlegebase.xhtml#kriterii_priemki',	'resource'),
(77,	'knowlegebase.xhtml#scenarij_prodaz',	'resource'),
(78,	'knowlegebase.xhtml#tehniceskij_sloj1',	'resource'),
(79,	'productmanagement.xhtml#upravlenie_produktami',	'resource'),
(80,	'productmanagement.xhtml#s_cego_nacinaetsj_produkt',	'resource'),
(81,	'productmanagement.xhtml#strategij_produkta',	'resource'),
(82,	'productmanagement.xhtml#analiz_dann_h',	'resource'),
(83,	'productmanagement.xhtml#prioritizacij_zadac',	'resource'),
(84,	'productmanagement.xhtml#zadaci_pol_zovatelej',	'resource'),
(85,	'productmanagement.xhtml#Job_To_Be_Done',	'resource'),
(86,	'productmanagement.xhtml#interv_y_pol_zovatelej',	'resource'),
(87,	'productmanagement.xhtml#cto_v__hotite_sdelat__',	'resource'),
(88,	'productmanagement.xhtml#kak_v__v_nastojsee_vremj_delaete_eto_',	'resource'),
(89,	'productmanagement.xhtml#kak_mozno_ulucsit__to__cto_v__delaete_',	'resource'),
(90,	'productmanagement.xhtml#proektirovanie_susnostej',	'resource'),
(91,	'productmanagement.xhtml#sostav_susnostej',	'resource'),
(92,	'productmanagement.xhtml#sostojnie_susnosti',	'resource'),
(93,	'productmanagement.xhtml#povedenie_susnostej',	'resource'),
(94,	'productmanagement.xhtml#otnosenij',	'resource'),
(95,	'productmanagement.xhtml#igra__susnosti_i_povedenie_',	'resource'),
(96,	'productmanagement.xhtml#modelirovanie',	'resource'),
(97,	'productmanagement.xhtml#metod__analiza_dann_h',	'resource'),
(98,	'productmanagement.xhtml#metriki',	'resource'),
(99,	'productmanagement.xhtml#harakteristiki_metriki',	'resource'),
(100,	'productmanagement.xhtml#relevantnost_',	'resource'),
(101,	'productmanagement.xhtml#izmerimost_',	'resource'),
(102,	'productmanagement.xhtml#dejstvennost_',	'resource'),
(103,	'productmanagement.xhtml#nadeznost_',	'resource'),
(104,	'productmanagement.xhtml#udobocitaemost_',	'resource'),
(105,	'productmanagement.xhtml#voronka_prodaz',	'resource'),
(106,	'productteam.xhtml#produktovaj_komanda',	'resource'),
(107,	'productteam.xhtml#formirovanie_komand',	'resource'),
(108,	'productteam.xhtml#avtonomnost__komand_',	'resource'),
(109,	'productteam.xhtml#menedzer_produkta',	'resource'),
(110,	'productteam.xhtml#dolznostn_e_objzannosti_menedzera_produkta',	'resource'),
(111,	'productteam.xhtml#menedzer_produkta_1__stazer_',	'resource'),
(112,	'productteam.xhtml#menedzer_produkta_1__nacinaysij_',	'resource'),
(113,	'productteam.xhtml#menedzer_produkta_2__vedusij_',	'resource'),
(114,	'productteam.xhtml#menedzer_produkta_3__lider_',	'resource'),
(115,	'productteam.xhtml#menedzer_produkta_3__',	'resource'),
(116,	'productteam.xhtml#ocenka_rezul_tatov_rabot_',	'resource'),
(117,	'productteam.xhtml#prinjtie_resenij',	'resource'),
(118,	'productteam.xhtml#analiz_dann_h',	'resource'),
(119,	'productteam.xhtml#kommunikacij',	'resource'),
(120,	'productteam.xhtml#obucenie_i_motivacij',	'resource'),
(121,	'productteam.xhtml#dolzen_li_menedzer_produkta_umet__programmirovat__',	'resource'),
(122,	'productteam.xhtml#dolzen_li_menedzer_produkta_ponimat__psihologiy__motivaciy_',	'resource'),
(123,	'productteam.xhtml#i',	'resource'),
(124,	'productteam.xhtml#dolznostn_e_objzannosti',	'resource'),
(125,	'productteam.xhtml#inzener_1__stazer_',	'resource'),
(126,	'productteam.xhtml#inzener_1__nacinaysij_',	'resource'),
(127,	'productteam.xhtml#inzener_2__vedusij_',	'resource'),
(128,	'productteam.xhtml#inzener_2__vedusij+_',	'resource'),
(129,	'productteam.xhtml#inzener_3__lider_',	'resource'),
(130,	'productteam.xhtml#inzener_3__',	'resource'),
(131,	'productteam.xhtml#inzener_3__1',	'resource'),
(132,	'productteam.xhtml#arhitektor',	'resource'),
(133,	'productteam.xhtml#ocenka_rezul_tatov_rabot_1',	'resource'),
(134,	'productteam.xhtml#analitik_dann_h',	'resource'),
(135,	'productteam.xhtml#QA-inzener',	'resource'),
(136,	'productteam.xhtml#dolznostn_e_objzannosti1',	'resource'),
(137,	'productteam.xhtml#QA-inzener_1__',	'resource'),
(138,	'productteam.xhtml#QA-inzener_1__nacinaysij_',	'resource'),
(139,	'productteam.xhtml#QA-inzener_1__vedusij_',	'resource'),
(140,	'productteam.xhtml#QA-inzener1',	'resource'),
(141,	'productteam.xhtml#QA-inzener_3__lider_',	'resource'),
(142,	'productteam.xhtml#QA-inzener_3__',	'resource'),
(143,	'productteam.xhtml#ocenka_rezul_tatov_rabot_11',	'resource'),
(144,	'productteam.xhtml#stakeholders',	'resource'),
(145,	'skills.xhtml#inzener-programmist',	'resource'),
(146,	'skills.xhtml#menedzer_produkta',	'resource'),
(147,	'tdd.xhtml#Test_driven_design',	'resource'),
(148,	'tdd.xhtml#Definition',	'resource'),
(149,	'tdd.xhtml#Problems',	'resource'),
(150,	'tdd.xhtml#Nightmare_to_maintain__slow_to_develop',	'resource'),
(151,	'tdd.xhtml#Failing_to_meet_actual_need',	'resource'),
(152,	'tdd.xhtml#Solution',	'resource'),
(153,	'tdd.xhtml#Build_thing_right:_TDD',	'resource'),
(154,	'tdd.xhtml#TDD',	'resource'),
(155,	'tdd.xhtml#TEST_FIRST',	'resource'),
(156,	'tdd.xhtml#Build_right_t',	'resource'),
(157,	'tdd.xhtml#Close_collaboration',	'resource'),
(158,	'tdd.xhtml#Shared_language',	'resource'),
(159,	'usecases.xhtml#diagramm__precedentov',	'resource'),
(160,	'usecases.xhtml#element__diagramm_',	'resource'),
(161,	'usecases.xhtml#dejstvuysee_lico',	'resource'),
(162,	'usecases.xhtml#precedent',	'resource'),
(163,	'usecases.xhtml#svjz_',	'resource');

DROP TABLE IF EXISTS `material_from_keyword`;
CREATE TABLE `material_from_keyword` (
  `material_id` int(7) NOT NULL,
  `keyword_id` int(7) NOT NULL,
  KEY `keyword_id` (`keyword_id`),
  KEY `material_from_keyword_ibfk_2` (`material_id`),
  CONSTRAINT `material_from_keyword_ibfk_1` FOREIGN KEY (`keyword_id`) REFERENCES `keyword` (`id_keyword`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `material_from_keyword_ibfk_2` FOREIGN KEY (`material_id`) REFERENCES `material` (`id_material`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `material_from_keyword` (`material_id`, `keyword_id`) VALUES
(5,	1),
(5,	2),
(5,	3),
(5,	4),
(5,	5),
(5,	6),
(5,	7),
(5,	8),
(5,	9),
(5,	10),
(5,	11),
(6,	12),
(6,	13),
(6,	14),
(6,	15),
(7,	16),
(7,	17),
(7,	18),
(7,	19),
(7,	20),
(7,	21),
(7,	22),
(8,	23),
(8,	24),
(8,	25),
(8,	26),
(8,	27),
(8,	28),
(8,	29),
(8,	30),
(8,	31),
(8,	32),
(8,	33),
(8,	34),
(8,	35),
(8,	36),
(8,	37),
(8,	38),
(8,	39),
(8,	40),
(8,	41),
(8,	42),
(9,	43),
(9,	44),
(9,	45),
(9,	46),
(9,	47),
(10,	48),
(11,	49),
(12,	50),
(12,	51),
(12,	52),
(12,	53),
(12,	54),
(12,	55),
(12,	56),
(12,	57),
(12,	58),
(12,	59),
(12,	60),
(12,	61),
(13,	62),
(13,	63),
(13,	64),
(13,	65),
(13,	66),
(13,	67),
(13,	68),
(13,	69),
(13,	70),
(13,	71),
(13,	72),
(13,	73),
(13,	74),
(13,	75),
(13,	76),
(13,	77),
(13,	78),
(13,	79),
(13,	80),
(13,	81),
(13,	82),
(13,	83),
(13,	84),
(13,	85),
(13,	86),
(13,	87),
(13,	88),
(14,	89),
(14,	90),
(14,	91),
(14,	92),
(14,	93),
(14,	94),
(14,	95),
(14,	96),
(14,	97),
(14,	98),
(14,	99),
(14,	100),
(14,	101),
(14,	102),
(14,	103),
(14,	104),
(14,	105),
(14,	106),
(14,	107),
(14,	108),
(14,	109),
(14,	110),
(14,	111),
(14,	112),
(14,	113),
(14,	114),
(14,	115),
(14,	116),
(14,	117),
(14,	118),
(14,	119),
(14,	120),
(14,	121),
(14,	122),
(14,	123),
(14,	124),
(14,	125),
(14,	126),
(14,	127),
(15,	128),
(15,	129),
(16,	130),
(16,	131),
(16,	132),
(16,	133),
(16,	134),
(16,	135),
(16,	136),
(16,	137),
(16,	138),
(16,	139),
(16,	140),
(16,	141),
(17,	142),
(17,	143),
(17,	144),
(17,	145),
(17,	146),
(5,	147);

DROP TABLE IF EXISTS `notificate`;
CREATE TABLE `notificate` (
  `id_notificate` int(7) NOT NULL AUTO_INCREMENT,
  `diff` text NOT NULL,
  `event` varchar(20) NOT NULL,
  `id_subs` int(7) NOT NULL,
  `id_user` int(7) NOT NULL,
  PRIMARY KEY (`id_notificate`),
  KEY `id_subs` (`id_subs`),
  KEY `id_user` (`id_user`),
  CONSTRAINT `notificate_ibfk_1` FOREIGN KEY (`id_subs`) REFERENCES `subscriptions` (`id_subscription`) ON DELETE CASCADE,
  CONSTRAINT `notificate_ibfk_2` FOREIGN KEY (`id_user`) REFERENCES `user` (`id_user`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `notificate` (`id_notificate`, `diff`, `event`, `id_subs`, `id_user`) VALUES
(1,	'skjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskldskjahdkjajslkdjlaksdkaskld',	'modificate',	3,	1),
(2,	'aasd',	'deleted',	5,	1);

DROP TABLE IF EXISTS `offers`;
CREATE TABLE `offers` (
  `id_offer` int(11) NOT NULL AUTO_INCREMENT,
  `material_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `diff` text NOT NULL,
  `accepted` tinyint(1) DEFAULT 0,
  PRIMARY KEY (`id_offer`),
  KEY `offers_ibfk_1` (`material_id`),
  KEY `offers_ibfk_2` (`user_id`),
  CONSTRAINT `offers_ibfk_1` FOREIGN KEY (`material_id`) REFERENCES `material` (`id_material`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `offers_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `user` (`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `offers` (`id_offer`, `material_id`, `user_id`, `diff`, `accepted`) VALUES
(1,	7,	1,	'TEXT',	0),
(2,	20,	1,	'TEXT',	0),
(3,	40,	2,	'TEXT',	0);

DROP TABLE IF EXISTS `resource`;
CREATE TABLE `resource` (
  `id_resource` int(11) NOT NULL AUTO_INCREMENT,
  `tag_resource` varchar(50) DEFAULT NULL,
  `document_id` int(11) DEFAULT NULL,
  PRIMARY KEY (`id_resource`),
  KEY `resource_document_id_material_fk` (`document_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;


DROP TABLE IF EXISTS `subscriptions`;
CREATE TABLE `subscriptions` (
  `id_subscription` int(7) NOT NULL AUTO_INCREMENT,
  `user_id` int(7) NOT NULL,
  `material_id` int(7) NOT NULL,
  `is_read` tinyint(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id_subscription`),
  KEY `subscriptions_ibfk_1` (`material_id`),
  KEY `subscriptions_ibfk_2` (`user_id`),
  CONSTRAINT `subscriptions_ibfk_1` FOREIGN KEY (`material_id`) REFERENCES `material` (`id_material`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `subscriptions_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `user` (`id_user`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `subscriptions` (`id_subscription`, `user_id`, `material_id`, `is_read`) VALUES
(3,	1,	20,	0),
(4,	2,	20,	0),
(5,	1,	15,	1);

DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id_user` int(7) NOT NULL AUTO_INCREMENT,
  `login` varchar(30) NOT NULL,
  `status` varchar(7) NOT NULL,
  PRIMARY KEY (`id_user`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `user` (`id_user`, `login`, `status`) VALUES
(1,	'User1',	'user'),
(2,	'User2',	'mentor'),
(3,	'admin',	'admin');

-- 2020-10-02 05:35:11
